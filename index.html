<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="description" content="Bee game"/>
		<meta charset="utf-8">
		<title>Bee Game</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Dirtlord The Zombie King">
		<link rel="stylesheet" href="assets/stylesheets/main.css">
	</head>
	<body onload="startGame()">
		NOTE: I HAVE TO LEARN HTML5 GAME DEVELOPMENT FROM SCRATCH IN ORDER TO PORT THIS GAME SO THIS PAGE WILL BE A MESS UNTIL THEN!
		<img class="catagory_img", id="bee" src="https://raw.githubusercontent.com/dirtlordthezombieking/Bee-Game-Web-/main/assets/images/bee.png" alt="bee">
		<canvas id="Canvas" width="800" height="1200"></canvas>
		<script>
			const validChars = ["a","b"];
			var GamePiece;
			var ctx;
			var bee;
			var rot;
			var music;
			var start;
			var GameArea = {
				canvas : document.getElementById("Canvas"),
				start : function() {
					this.canvas.style.cursor = "none";
					this.ctx = this.canvas.getContext("2d");
					this.ctx.fillStyle = "#00FF00";
					this.ctx.fillRect(0, 0, 800, 1200);
					this.interval = setInterval(updateGameArea, 17);
					this.rect = this.canvas.getBoundingClientRect();
					//window.addEventListener('mousedown', function (e) {
						//GameArea.x = e.pageX;
						//GameArea.y = e.pageY;
					//});
					window.addEventListener('mouseup', function (e) {
						//GameArea.x = e.pageX;
						//GameArea.y = e.pageY;
						if(!start)
						{
							music.play();
							start=true;
						}
						//else
						//{
							//GameArea.x = e.touches[0].clientX - this.rect.left;
							//GameArea.y = e.touches[0].clientY - this.rect.top;
							//navigator.clipboard.writeText("" + e.touches[0].clientX + "," + this.rect.left + "|" + e.touches[0].clientY + "," + this.rect.top)
						//}
					});
					//window.addEventListener('touchstart', function (e) {
						//GameArea.x = e.touches[0].screenX;
						//GameArea.y = e.touches[0].screenY;
					//});
					window.addEventListener('touchend', function (e) {
						if(!start)
						{
							music.play();
							start=true;
						}
						else
						{
							ctx = GameArea.ctx;
							ctx.font = "30px Arial";
							ctx.fillStyle = "#000000";
							ctx.fillText("test test",0,170);
							ctx.fillText(e.touches[0].clientX,0,200);
							ctx.fillText(e.touches[0].clientX + "," + this.rect.left,0,230);
							ctx.fillText(e.touches[0].clientX + "," + this.rect.left + "|" + e.touches[0].clientY,0,260);
							ctx.fillText(e.touches[0].clientX + "," + this.rect.left + "|" + e.touches[0].clientY + "," + this.rect.top,0,290);
							//GameArea.x = e.touches[0].clientX - this.rect.left;
							//GameArea.y = e.touches[0].clientY - this.rect.top;
						}
					});
					//window.addEventListener('keydown', function (e) {
						//GameArea.key = e.key;
						//if (showcode) {
						//}
						//else if (e.key == "p" || e.key ==  "P") {
						//}
						//else if(e.key == "Backspace") {
						//}
					//});
					//window.addEventListener('keyup', function (e) {
						//GameArea.key = false;
						//if(!start)
						//{
							//if(e.key == "p" || e.key == "P")
							//{
								//music.play();
								//start=true;
							//}
						//}
					//});
					//window.addEventListener('click', function () {
						//if (GameArea.x && GameArea.y) {
							//GamePiece.x = GameArea.x;
							//GamePiece.y = GameArea.y;
						//}
					//});
				},
				clear : function() {
					this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
					this.ctx.fillStyle = "#00FF00";
					this.ctx.fillRect(0, 0, 800, 1200);
				}
			};
			function component(width, height, image, x, y) {
				this.image = new Image();
				this.image.src =
					"https://raw.githubusercontent.com/dirtlordthezombieking"
					+"/Bee-Game-Web-/main/assets/images/"
					+image+".png";
				this.width = width;
				this.height = height;
				this.x = x;
				this.y = y;
				this.update = function(){
					ctx = GameArea.ctx;
					//ctx.fillStyle = colour;
					ctx.drawImage(this.image, this.x + 96, this.y + 96,
						      this.width, this.height);
					//ctx.fillRect(this.x, this.y, this.width, this.height);
				};
				this.rotate = function(angle){
					ctx = GameArea.ctx;
					ctx.save();
					ctx.translate(this.x + (this.width / 2),
						      this.y + (this.height / 2));
					ctx.rotate(angle * Math.PI / 180);
					ctx.drawImage(this.image, this.width / -2,
						      this.height / -2, this.width, this.height);
					ctx.restore();
				};
			}
			function startGame() {
				start=false;
				GameArea.start();
				music = new sound("song17");
				rot = 0;
				GamePiece = new component(192, 192, "bee", 304, 504);
			}
			function updateGameArea() {
				if(start)
				{
					GameArea.clear();
					//if (GameArea.x && GameArea.y) {
						//GamePiece.x = GameArea.x - 96;
						//GamePiece.y = GameArea.y - 96;
					//}
					rot = rot + 1;
					GamePiece.rotate(rot);
				//GamePiece.update();
				}
			}
			function sound(src) {
				this.sound = document.createElement("audio");
				this.sound.src =
					"https://raw.githubusercontent.com/dirtlordthezombieking"
					+"/Bee-Game-Web-/main/assets/images/"
					+src+".ogg";
				this.sound.type = "audio/ogg";
				this.sound.setAttribute("preload", "auto");
				this.sound.setAttribute("controls", "none");
				this.sound.loop = true;
				this.sound.style.display = "none";
				document.body.appendChild(this.sound);
				this.play = function() {
					this.sound.play();
				};
				this.stop = function() {
					this.sound.pause();
				};
			}
		</script>
	</body>
</html>
